import{p as c}from"./chunk-I35Y2QOD.js";import{a as f}from"./chunk-2UUWE3MU.js";import{Ef as a,S as h,W as o,ca as p,rc as n,s as i,ud as m}from"./chunk-SYGYQDC7.js";var P=(()=>{let e=class e{constructor(){this.http=o(n),this.API=`${f.apiUrl}/lms/schools`,this._refresh=p(1),this.refresh$=m(this._refresh),this.confirmService=o(a)}refresh(){this._refresh.update(t=>t+1)}getList(){return this.http.get(this.API).pipe(i(t=>t.map(r=>this.parseItem(r))))}getItem(t){return this.http.get(`${this.API}/${t}`).pipe(i(r=>this.parseItem(r)))}save(t){return this.http.post(this.API,t).pipe(i(r=>this.parseItem(r)))}delete(t){this.confirmService.confirm(()=>this.http.delete(`${this.API}/${t}`).subscribe(()=>this.refresh()))}toggleStatus(t){return this.http.post(`${this.API}/${t.id}/toggle-status`,null)}parseItem(t){return t.viewerRole&&(t.viewerRoleName=c(t.viewerRole)),t}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();export{P as a};
